---
import Nav from '@src/components/Nav';
import Post from '@src/components/Post';
import { getAllPosts } from '@src/domain/content';
import BaseLayout from '@src/layouts/Base.astro';

export async function getStaticPaths() {
  const posts = getAllPosts();
  return posts.map((p) => {
    return { params: { slug: p.slug }, props: { post: p } };
  });
}

const { post } = Astro.props;
---

<BaseLayout title={post.title}>
  <article>
    <div class="mx-auto w-10/12 md:w-8/12 lg:w-6/12">
      <Nav />
    </div>
    <Post post={post} />
  </article>
</BaseLayout>
